# Aiogram Bot Template

Шаблон для создания Telegram бота с использованием библиотеки `aiogram 3.x`. Этот репозиторий предоставляет базовую структуру и готовые настройки для быстрого запуска бота, включая примеры хэндлеров, мидлварей и логирования.

## Возможности

- **Асинхронные хэндлеры**: шаблон использует `aiogram` для обработки сообщений и команд.
- **Middleware**: встроенная мидлварь для логирования всех входящих сообщений.
- **Конфигурация через `.env` файл**: позволяет удобно управлять переменными окружения.
- **Простая структура кода**: поддерживает удобную организацию хэндлеров, мидлварей и конфигураций.

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/progeroffline/aiogram-bot-template.git
   cd aiogram-bot-template
   ```

2. **Создайте виртуальное окружение и установите зависимости:**
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # Linux/Mac
   venv\Scripts\activate     # Windows

   pip install -r requirements.txt
   ```

3. **Настройте переменные окружения:**
   Создайте файл `.env` в корне проекта и добавьте переменные:
   ```env
   BOT_TOKEN=your-telegram-bot-token
   ```

## Использование

### Запуск бота

Чтобы запустить бота, выполните команду:
```bash
python bot.py
```

### Структура проекта

- `bot.py` — основной файл запуска бота.
- `handlers/` — директория для хэндлеров. Каждый файл представляет отдельный модуль.
- `middlewares/` — директория для мидлварей.
- `config.py` — конфигурация для загрузки переменных окружения.
- `.env` — файл для хранения чувствительных данных, таких как токен бота.

### Пример Middleware для логирования

Шаблон включает пример мидлвари, которая логирует все обновления и сохраняет их в файл `bot.log`. Она уже подключена к боту и автоматически будет записывать данные о каждом сообщении.

## Пример логгера

Мидлварь для логирования расположена в файле `middlewares/logging_middleware.py`. При каждом сообщении в бота информация о сообщении записывается в консоль и в файл `bot.log` в формате:
```
<timestamp> - INFO - User ID: <user_id>, Username: <username>, Chat ID: <chat_id>, Message: <message_text>
```

## Contributing

PR и предложения приветствуются! Для внесения изменений, создайте новую ветку и отправьте Pull Request.

## Лицензия

Этот проект лицензирован под [MIT License](LICENSE).

